{"ast":null,"code":"import Livro from \"../modelo/Livro\";\nconst baseURL = \"http://localhost:3030/livros\";\nexport default class ControleLivros {\n  async incluir(livro) {\n    const livroMongo = {\n      _id: null,\n      codEditora: livro.codEditora,\n      titulo: livro.titulo,\n      resumo: livro.resumo,\n      autores: livro.autores\n    };\n    const response = await fetch(baseURL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(livroMongo)\n    });\n    const data = await response.json();\n    return data.ok;\n  }\n  async excluir(codigo) {\n    const response = await fetch(`${baseURL}/${codigo}`, {\n      method: 'DELETE'\n    });\n    const data = await response.json();\n    return data.ok;\n  }\n  async obterLivros() {\n    const response = await fetch(baseURL);\n    const data = await response.json();\n    const livros = data.map(livro => new Livro(livro._id, livro.codEditora, livro.titulo, livro.resumo, livro.autores));\n    return livros;\n  }\n}","map":{"version":3,"names":["Livro","baseURL","ControleLivros","incluir","livro","livroMongo","_id","codEditora","titulo","resumo","autores","response","fetch","method","headers","body","JSON","stringify","data","json","ok","excluir","codigo","obterLivros","livros","map"],"sources":["C:/Users/Windows/estudo/mundo2-mp-nivel5-master/clientes/livros-react/src/controle/ControleLivros.ts"],"sourcesContent":["import Livro from \"../modelo/Livro\";\n\nconst baseURL = \"http://localhost:3030/livros\";\n\ninterface LivroMongo {\n    _id: string | null;\n    codEditora: number;\n    titulo: string;\n    resumo: string;\n    autores: Array<string>;\n}\n\nexport default class ControleLivros {\n\n    async incluir(livro: Livro) {\n        const livroMongo: LivroMongo = {\n            _id: null,\n            codEditora: livro.codEditora,\n            titulo: livro.titulo,\n            resumo: livro.resumo,\n            autores: livro.autores,\n        };\n        const response = await fetch(baseURL, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(livroMongo),\n        });\n        const data = await response.json();\n        return data.ok;\n    }\n\n    async excluir(codigo: string) {\n        const response = await fetch(`${baseURL}/${codigo}`, {\n            method: 'DELETE',\n        });\n        const data = await response.json();\n        return data.ok;\n    }\n\n    async obterLivros() {\n        const response = await fetch(baseURL);\n        const data = await response.json();\n        const livros = data.map((livro: LivroMongo) => new Livro(\n            livro._id,\n            livro.codEditora,\n            livro.titulo,\n            livro.resumo,\n            livro.autores\n        ));\n        return livros;\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,iBAAiB;AAEnC,MAAMC,OAAO,GAAG,8BAA8B;AAU9C,eAAe,MAAMC,cAAc,CAAC;EAEhC,MAAMC,OAAO,CAACC,KAAY,EAAE;IACxB,MAAMC,UAAsB,GAAG;MAC3BC,GAAG,EAAE,IAAI;MACTC,UAAU,EAAEH,KAAK,CAACG,UAAU;MAC5BC,MAAM,EAAEJ,KAAK,CAACI,MAAM;MACpBC,MAAM,EAAEL,KAAK,CAACK,MAAM;MACpBC,OAAO,EAAEN,KAAK,CAACM;IACnB,CAAC;IACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACX,OAAO,EAAE;MAClCY,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,UAAU;IACnC,CAAC,CAAC;IACF,MAAMa,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,OAAOD,IAAI,CAACE,EAAE;EAClB;EAEA,MAAMC,OAAO,CAACC,MAAc,EAAE;IAC1B,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,OAAQ,IAAGqB,MAAO,EAAC,EAAE;MACjDT,MAAM,EAAE;IACZ,CAAC,CAAC;IACF,MAAMK,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,OAAOD,IAAI,CAACE,EAAE;EAClB;EAEA,MAAMG,WAAW,GAAG;IAChB,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAACX,OAAO,CAAC;IACrC,MAAMiB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,MAAMK,MAAM,GAAGN,IAAI,CAACO,GAAG,CAAErB,KAAiB,IAAK,IAAIJ,KAAK,CACpDI,KAAK,CAACE,GAAG,EACTF,KAAK,CAACG,UAAU,EAChBH,KAAK,CAACI,MAAM,EACZJ,KAAK,CAACK,MAAM,EACZL,KAAK,CAACM,OAAO,CAChB,CAAC;IACF,OAAOc,MAAM;EACjB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}